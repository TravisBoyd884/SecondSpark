@import 'bootstrap/dist/css/bootstrap.min.css';

/* 
 * Isolate Bootstrap CSS to only affect .bootstrap-scope
 * Bootstrap's global styles will still apply, but we override utility classes outside the scope
 */

/* Override ALL Bootstrap utility classes outside bootstrap-scope with maximum specificity */
body :not(.bootstrap-scope):not(.bootstrap-scope *) .d-flex,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .d-block,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .d-inline,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .d-inline-block,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .d-grid,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .d-table,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .d-none {
  display: revert !important;
}

body :not(.bootstrap-scope):not(.bootstrap-scope *) .flex-row,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .flex-column,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .flex-wrap,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .flex-nowrap,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .flex-fill {
  flex-direction: revert !important;
  flex-wrap: revert !important;
  flex: revert !important;
}

body :not(.bootstrap-scope):not(.bootstrap-scope *) .gap-0,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .gap-1,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .gap-2,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .gap-3,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .gap-4,
body :not(.bootstrap-scope):not(.bootstrap-scope *) .gap-5 {
  gap: revert !important;
}

/* 
 * CRITICAL: Protect the dashboard layout from Bootstrap's flex utilities
 * These rules have maximum specificity to override Bootstrap
 */
div.flex.h-screen.flex-col.md\:flex-row:not(.bootstrap-scope):not(.bootstrap-scope *) {
  display: flex !important;
  flex-direction: column !important;
  height: 100vh !important;
}

@media (min-width: 768px) {
  div.flex.h-screen.flex-col.md\:flex-row:not(.bootstrap-scope):not(.bootstrap-scope *) {
    flex-direction: row !important;
  }
}

/* Protect sidebar container - ensure it stays vertical and has correct width */
div.w-full.flex-none.md\:w-64:not(.bootstrap-scope):not(.bootstrap-scope *) {
  flex: none !important;
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
  width: 100% !important;
}

@media (min-width: 768px) {
  div.w-full.flex-none.md\:w-64:not(.bootstrap-scope):not(.bootstrap-scope *) {
    width: 16rem !important;
  }
}

/* Protect content area - ensure it grows properly */
div.grow:not(.bootstrap-scope):not(.bootstrap-scope *) {
  flex-grow: 1 !important;
  flex-shrink: 1 !important;
  flex-basis: 0% !important;
}

/* 
 * Additional protection: Ensure Tailwind's flex utilities work correctly
 * Bootstrap might have global flex styles that interfere
 */

/* Prevent Bootstrap from overriding Tailwind's flex utilities */
:not(.bootstrap-scope):not(.bootstrap-scope *) .flex {
  display: flex !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .flex-col {
  flex-direction: column !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .flex-row {
  flex-direction: row !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .flex-none {
  flex: none !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .flex-wrap {
  flex-wrap: wrap !important;
}

/* Protect sidebar's specific flex classes */
div.flex.h-full.flex-col:not(.bootstrap-scope):not(.bootstrap-scope *) {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
}

div.flex.grow.flex-row:not(.bootstrap-scope):not(.bootstrap-scope *) {
  display: flex !important;
  flex-direction: row !important;
}

@media (min-width: 768px) {
  div.flex.grow.flex-row.md\:flex-col:not(.bootstrap-scope):not(.bootstrap-scope *) {
    flex-direction: column !important;
  }
}

/* Ensure overflow classes work */
:not(.bootstrap-scope):not(.bootstrap-scope *) .md\:overflow-hidden {
  overflow: hidden !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .md\:overflow-y-auto {
  overflow-y: auto !important;
}

/* 
 * Protect sidebar colors and styling from Bootstrap's global styles
 * Bootstrap has default link, button, and image styles that interfere
 */

/* Protect background colors in sidebar */
:not(.bootstrap-scope):not(.bootstrap-scope *) .bg-black {
  background-color: rgb(0, 0, 0) !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .bg-gray-50 {
  background-color: rgb(249, 250, 251) !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .bg-gray-100 {
  background-color: rgb(243, 244, 246) !important;
}

/* Protect text colors in sidebar */
:not(.bootstrap-scope):not(.bootstrap-scope *) .text-white {
  color: rgb(255, 255, 255) !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .text-gray-600 {
  color: rgb(75, 85, 99) !important;
}

/* Protect sidebar links from Bootstrap's default link styles */
:not(.bootstrap-scope):not(.bootstrap-scope *) a.bg-black,
:not(.bootstrap-scope):not(.bootstrap-scope *) a.bg-gray-50 {
  color: inherit !important;
  text-decoration: none !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) a.bg-black:hover,
:not(.bootstrap-scope):not(.bootstrap-scope *) a.bg-gray-50:hover {
  color: inherit !important;
  text-decoration: none !important;
}

/* Protect sidebar buttons from Bootstrap's default button styles */
:not(.bootstrap-scope):not(.bootstrap-scope *) button.bg-gray-50,
:not(.bootstrap-scope):not(.bootstrap-scope *) button.bg-gray-100 {
  background-color: inherit !important;
  border: none !important;
  padding: inherit !important;
  font: inherit !important;
  color: inherit !important;
  text-decoration: none !important;
  cursor: pointer !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) button.bg-gray-50:hover,
:not(.bootstrap-scope):not(.bootstrap-scope *) button.bg-gray-100:hover {
  background-color: inherit !important;
  color: inherit !important;
}

/* Protect images from Bootstrap's global img styles */
/* Bootstrap sets img { max-width: 100%; height: auto; } which breaks Next.js Image sizing */
:not(.bootstrap-scope):not(.bootstrap-scope *) img {
  max-width: none !important;
  /* Don't override height - let Tailwind classes handle it */
  vertical-align: revert !important;
}

/* Next.js Image component uses width/height attributes - protect those */
:not(.bootstrap-scope):not(.bootstrap-scope *) img[width],
:not(.bootstrap-scope):not(.bootstrap-scope *) img[height] {
  /* Let width/height attributes and Tailwind classes control sizing */
  max-width: none !important;
}

/* Protect rounded corners */
:not(.bootstrap-scope):not(.bootstrap-scope *) .rounded-md {
  border-radius: 0.375rem !important;
}

/* Note: Tailwind padding classes should work normally - Bootstrap doesn't override them */

/* Protect hover states */
:not(.bootstrap-scope):not(.bootstrap-scope *) .hover\:bg-black:hover {
  background-color: rgb(0, 0, 0) !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .hover\:bg-gray-100:hover {
  background-color: rgb(243, 244, 246) !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .hover\:text-white:hover {
  color: rgb(255, 255, 255) !important;
}

:not(.bootstrap-scope):not(.bootstrap-scope *) .hover\:text-gray-600:hover {
  color: rgb(75, 85, 99) !important;
}